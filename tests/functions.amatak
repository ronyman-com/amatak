// functions.amatak
print "=== Starting Amatak Tests ==="

function abs(x) {
    if x < 0 { return -x }
    return x
}

let abs_result = abs(-3.5)
print "abs(-3.5) = " + abs_result  // Explicit print

function lower(s) {
    let result = ""
    for let i = 0; i < len(s); i = i + 1 {
        result = result + toLower(s[i])
    }
    return result
}

print "lower('TEST') = " + lower("TEST")  // Explicit print

// Force output flush at end
print ""
print "=== Final Output ==="